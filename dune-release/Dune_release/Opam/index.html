<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Opam (dune-release.Dune_release.Opam)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="generator" content="doc-ock-html v1.0.0-1-g1fc9bf0"/></head><body><nav id="top"><a href="../index.html">Up</a> &mdash; <span class="package">package <a href="../../index.html">dune-release</a></span></nav><header><h1><span class="keyword">Module</span> <span class="module-path">Dune_release.Opam</span></h1></header><p>opam helpers.</p><h2 id="cmd" class="anchored"><a href="#cmd" class="anchor"></a>Command</h2><div class="spec val" id="val-cmd"><a href="#val-cmd" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>cmd : Bos_setup.Cmd.t</code></div><div class="doc"><p><code class="code">cmd</code> is a command for <code class="code">opam</code>.</p></div></div><h2 id="publish" class="anchored"><a href="#publish" class="anchor"></a>Publish</h2><div class="spec val" id="val-prepare"><a href="#val-prepare" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>prepare : dry_run:bool <span class="keyword">&#8209;&gt;</span> ?&#8288;msg:string <span class="keyword">&#8209;&gt;</span> local_repo:Fpath.t <span class="keyword">&#8209;&gt;</span> remote_repo:string <span class="keyword">&#8209;&gt;</span> version:string <span class="keyword">&#8209;&gt;</span> string list <span class="keyword">&#8209;&gt;</span> (string, Bos_setup.R.msg) Bos_setup.result</code></div><div class="doc"><p><code class="code">prepare ~local_repo ~version pkgs</code> adds the packages
<code class="code">pkg.version</code> to a new branch in the local opam repository
<code class="code">local_repo</code>, using the commit message <code class="code">msg</code> (if any). Return the
new branch.</p></div></div><h2 id="pkgs" class="anchored"><a href="#pkgs" class="anchor"></a>Packages</h2><div class="spec val" id="val-ocaml_base_packages"><a href="#val-ocaml_base_packages" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>ocaml_base_packages : Bos_setup.String.set</code></div><div class="doc"><p><code class="code">ocaml_base_packages</code> are the base opam packages distributed
with OCaml: <code class="code">&quot;base-bigarray&quot;</code>, <code class="code">&quot;base-bytes&quot;</code>, <code class="code">&quot;base-threads&quot;</code>,
<code class="code">&quot;base-unix&quot;</code>.</p></div></div><h2 id="file" class="anchored"><a href="#file" class="anchor"></a>Files</h2><div class="spec module" id="module-File"><a href="#module-File" class="anchor"></a><div class="def module"><code><span class="keyword">module </span><a href="File/index.html">File</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><div class="doc"><p>opam files</p></div></div><div class="spec module" id="module-Descr"><a href="#module-Descr" class="anchor"></a><div class="def module"><code><span class="keyword">module </span><a href="Descr/index.html">Descr</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><div class="doc"><p><code class="code">descr</code> files.</p></div></div><div class="spec module" id="module-Url"><a href="#module-Url" class="anchor"></a><div class="def module"><code><span class="keyword">module </span><a href="Url/index.html">Url</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><div class="doc"><p><code class="code">url</code> files.</p></div></div><div class="spec val" id="val-version"><a href="#val-version" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>version : [ `v1_2_2 | `v2 ] Lazy.t</code></div><div class="doc"><p><code class="code">version</code> is the output of <code class="code">opam --version</code>.</p></div></div></body></html>